/*
Three-Color Compliance System CSS - CASA Regulatory Intelligence

Custom Tailwind CSS utilities for the revolutionary three-color compliance system.
These classes provide consistent visual feedback for CASA compliance status across
the entire application.

Design Philosophy:
- GREEN: Fully compliant, operations authorized
- YELLOW: Warning state, review required
- RED: Non-compliant, operations prohibited

Usage:
- Add to any element requiring compliance status indication
- Use with HTMX for dynamic status updates
- Combine with Django Cotton components for consistent UX
*/

@tailwind components;
@tailwind utilities;

/* =============================================================================
   THREE-COLOR COMPLIANCE FOUNDATION CLASSES
============================================================================= */

@layer components {
  /* Compliance Status Badge Variants */
  .compliance-badge {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium;
  }
  
  .compliance-badge-green {
    @apply compliance-badge bg-green-100 text-green-800 border border-green-200;
  }
  
  .compliance-badge-yellow {
    @apply compliance-badge bg-yellow-100 text-yellow-800 border border-yellow-200;
  }
  
  .compliance-badge-red {
    @apply compliance-badge bg-red-100 text-red-800 border border-red-200;
  }

  /* Compliance Form Field Variants */
  .compliance-field {
    @apply block w-full rounded-md border-2 shadow-sm sm:text-sm transition-colors duration-200;
  }
  
  .compliance-field-green {
    @apply compliance-field border-green-500 bg-green-50 focus:ring-green-500 focus:border-transparent;
  }
  
  .compliance-field-yellow {
    @apply compliance-field border-yellow-500 bg-yellow-50 focus:ring-yellow-500 focus:border-transparent;
  }
  
  .compliance-field-red {
    @apply compliance-field border-red-500 bg-red-50 focus:ring-red-500 focus:border-transparent;
  }

  /* Compliance Card Variants */
  .compliance-card {
    @apply bg-white border rounded-lg shadow-sm;
  }
  
  .compliance-card-green {
    @apply compliance-card border-l-green-500 border-l-4 bg-green-50;
  }
  
  .compliance-card-yellow {
    @apply compliance-card border-l-yellow-500 border-l-4 bg-yellow-50;
  }
  
  .compliance-card-red {
    @apply compliance-card border-l-red-500 border-l-4 bg-red-50;
  }

  /* Compliance Button Variants */
  .compliance-btn {
    @apply inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200;
  }
  
  .compliance-btn-green {
    @apply compliance-btn border-green-600 text-white bg-green-600 hover:bg-green-700 focus:ring-green-500;
  }
  
  .compliance-btn-yellow {
    @apply compliance-btn border-yellow-600 text-white bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500;
  }
  
  .compliance-btn-red {
    @apply compliance-btn border-red-600 text-white bg-red-600 hover:bg-red-700 focus:ring-red-500;
  }

  /* Compliance Alert Variants */
  .compliance-alert {
    @apply rounded-md p-4 border;
  }
  
  .compliance-alert-green {
    @apply compliance-alert bg-green-50 border-green-200;
  }
  
  .compliance-alert-yellow {
    @apply compliance-alert bg-yellow-50 border-yellow-200;
  }
  
  .compliance-alert-red {
    @apply compliance-alert bg-red-50 border-red-200;
  }

  /* Compliance Progress Bar Variants */
  .compliance-progress {
    @apply w-full bg-gray-200 rounded-full h-2;
  }
  
  .compliance-progress-fill-green {
    @apply bg-green-600 h-2 rounded-full transition-all duration-300;
  }
  
  .compliance-progress-fill-yellow {
    @apply bg-yellow-600 h-2 rounded-full transition-all duration-300;
  }
  
  .compliance-progress-fill-red {
    @apply bg-red-600 h-2 rounded-full transition-all duration-300;
  }
}

/* =============================================================================
   DYNAMIC COMPLIANCE UTILITIES
============================================================================= */

@layer utilities {
  /* Status Indicator Colors */
  .status-green {
    @apply text-green-600 bg-green-100;
  }
  
  .status-yellow {
    @apply text-yellow-600 bg-yellow-100;
  }
  
  .status-red {
    @apply text-red-600 bg-red-100;
  }

  /* Border Status Colors */
  .border-status-green {
    @apply border-green-500;
  }
  
  .border-status-yellow {
    @apply border-yellow-500;
  }
  
  .border-status-red {
    @apply border-red-500;
  }

  /* Background Status Colors */
  .bg-status-green {
    @apply bg-green-50;
  }
  
  .bg-status-yellow {
    @apply bg-yellow-50;
  }
  
  .bg-status-red {
    @apply bg-red-50;
  }

  /* Ring Status Colors (for focus states) */
  .ring-status-green {
    @apply ring-green-500;
  }
  
  .ring-status-yellow {
    @apply ring-yellow-500;
  }
  
  .ring-status-red {
    @apply ring-red-500;
  }
}

/* =============================================================================
   HTMX INTEGRATION ANIMATIONS
============================================================================= */

@layer components {
  /* HTMX Loading States */
  .compliance-loading {
    @apply opacity-50 pointer-events-none;
  }
  
  .compliance-updating {
    @apply transition-all duration-300 transform scale-95;
  }

  /* Status Change Animations */
  .compliance-status-change {
    @apply transition-all duration-500 ease-in-out;
  }
  
  .compliance-flash-green {
    @apply animate-pulse bg-green-100 border-green-300;
  }
  
  .compliance-flash-yellow {
    @apply animate-pulse bg-yellow-100 border-yellow-300;
  }
  
  .compliance-flash-red {
    @apply animate-pulse bg-red-100 border-red-300;
  }
}

/* =============================================================================
   RESPONSIVE COMPLIANCE DISPLAY
============================================================================= */

@layer components {
  /* Mobile-First Compliance Display */
  .compliance-mobile {
    @apply block sm:hidden;
  }
  
  .compliance-desktop {
    @apply hidden sm:block;
  }

  /* Compliance Dashboard Grid */
  .compliance-dashboard {
    @apply grid gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  /* Compliance Summary Cards */
  .compliance-summary-card {
    @apply bg-white border border-gray-200 rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow duration-200;
  }
}

/* =============================================================================
   ACCESSIBILITY AND HIGH CONTRAST
============================================================================= */

@layer components {
  /* High Contrast Mode Support */
  @media (prefers-contrast: high) {
    .compliance-field-green {
      @apply border-green-700 bg-green-100;
    }
    
    .compliance-field-yellow {
      @apply border-yellow-700 bg-yellow-100;
    }
    
    .compliance-field-red {
      @apply border-red-700 bg-red-100;
    }
  }

  /* Reduced Motion Support */
  @media (prefers-reduced-motion: reduce) {
    .compliance-status-change,
    .compliance-updating,
    .compliance-progress-fill-green,
    .compliance-progress-fill-yellow,
    .compliance-progress-fill-red {
      @apply transition-none;
    }
    
    .compliance-flash-green,
    .compliance-flash-yellow,
    .compliance-flash-red {
      @apply animate-none;
    }
  }
}

/* =============================================================================
   PRINT STYLES
============================================================================= */

@media print {
  .compliance-badge,
  .compliance-alert,
  .compliance-card {
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }
  
  .compliance-badge-green,
  .compliance-alert-green,
  .compliance-card-green {
    @apply bg-green-200 border-green-800;
  }
  
  .compliance-badge-yellow,
  .compliance-alert-yellow,
  .compliance-card-yellow {
    @apply bg-yellow-200 border-yellow-800;
  }
  
  .compliance-badge-red,
  .compliance-alert-red,
  .compliance-card-red {
    @apply bg-red-200 border-red-800;
  }
}